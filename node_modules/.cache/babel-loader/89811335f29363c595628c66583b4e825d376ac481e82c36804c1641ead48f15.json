{"ast":null,"code":"import _toConsumableArray from\"C:/Users/lenov/Desktop/waiter-app \\u2014 kopia/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"C:/Users/lenov/Desktop/waiter-app \\u2014 kopia/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import shortid from'shortid';import{API_URL}from'../config';export var getAllPosts=function getAllPosts(_ref){var posts=_ref.posts;return posts;};export var getPostById=function getPostById(_ref2,id){var posts=_ref2.posts;return posts.find(function(post){return post.id===id;});};export var getPostsByCategory=function getPostsByCategory(_ref3,category){var posts=_ref3.posts;return posts.filter(function(post){return post.category===category;});};export var deletePost=function deletePost(payload){return{type:DELETE_POST,payload:payload};};export var addPost=function addPost(payload){return{type:ADD_POST,payload:payload};};export var editPost=function editPost(payload){return{type:EDIT_POST,payload:payload};};export var getData=function getData(payload){return{type:GET_DATA,payload:payload};};export var editTable=function editTable(payload){return{type:EDIT_TABLE,payload:payload};};export var changeStatus=function changeStatus(payload){return{type:CHANGE_STATUS,payload:payload};};export var getStatus=function getStatus(_ref4){var tableRequestPending=_ref4.tableRequestPending;return tableRequestPending;};var createActionName=function createActionName(actionName){return\"app/posts/\".concat(actionName);};var DELETE_POST=createActionName('DELETE_POST');var ADD_POST=createActionName('ADD_POST');var EDIT_POST=createActionName('EDIT_POST');var GET_DATA=createActionName('GET_DATA');export var fetchData=function fetchData(){return function(dispatch){dispatch(changeStatus);fetch(\"\".concat(API_URL,\"/posts\")).then(function(response){return response.json();}).then(function(data){return dispatch(getData(data));}).then(function(){return dispatch(changeStatus);});};};export var postsReducer=function postsReducer(){var statePart=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case EDIT_TABLE:return statePart.map(function(post){if(post.id===action.payload.id){return _objectSpread(_objectSpread({},post),action.payload);}else{return post;}});case DELETE_POST:return statePart.filter(function(post){return post.id!==action.payload;});case ADD_POST:return[].concat(_toConsumableArray(statePart),[_objectSpread(_objectSpread({},action.payload),{},{id:shortid()})]);case EDIT_POST:return statePart.map(function(post){return post.id===action.payload.id?_objectSpread(_objectSpread({},post),action.payload):post;});case GET_DATA:return _toConsumableArray(action.payload);case CHANGE_STATUS:{return action.payload;}default:return statePart;}};var createActionNames=function createActionNames(action){return\"app/status/\".concat(action);};var CHANGE_STATUS=createActionNames('CHANGE_STATUS');var EDIT_TABLE=createActionNames('EDIT_TABLE');export var editTableRequest=function editTableRequest(editedTable){return function(dispatch){var options={method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify(editedTable)};fetch(\"\".concat(API_URL,\"/posts/\").concat(editedTable.id),options).then(function(response){return response.json();}).then(function(data){return dispatch(editTable(data));});};};export var statusReducer=function statusReducer(){var statePart=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case CHANGE_STATUS:{return action.payload;}default:return statePart;}};// reducer","map":{"version":3,"names":["shortid","API_URL","getAllPosts","_ref","posts","getPostById","_ref2","id","find","post","getPostsByCategory","_ref3","category","filter","deletePost","payload","type","DELETE_POST","addPost","ADD_POST","editPost","EDIT_POST","getData","GET_DATA","editTable","EDIT_TABLE","changeStatus","CHANGE_STATUS","getStatus","_ref4","tableRequestPending","createActionName","actionName","concat","fetchData","dispatch","fetch","then","response","json","data","postsReducer","statePart","arguments","length","undefined","action","map","_objectSpread","_toConsumableArray","createActionNames","editTableRequest","editedTable","options","method","headers","body","JSON","stringify","statusReducer"],"sources":["C:/Users/lenov/Desktop/waiter-app â€” kopia/src/redux/postsRedux.js"],"sourcesContent":["import shortid from 'shortid';\nimport { API_URL } from '../config';\n\nexport const getAllPosts = ({ posts }) => posts;\nexport const getPostById = ({ posts }, id) => posts.find(post => post.id === id);\nexport const getPostsByCategory = ({ posts }, category) => posts.filter(post => post.category === category);\n\nexport const deletePost = payload => ({ type: DELETE_POST, payload })\nexport const addPost = payload => ({ type: ADD_POST, payload });\nexport const editPost = payload => ({ type: EDIT_POST, payload });\nexport const getData = (payload) => ({ type: GET_DATA, payload });\nexport const editTable = (payload) => ({ type: EDIT_TABLE, payload })\nexport const changeStatus = (payload) => ({ type: CHANGE_STATUS, payload });\nexport const getStatus = ({ tableRequestPending }) => tableRequestPending;\n\n\nconst createActionName = actionName => `app/posts/${actionName}`;\nconst DELETE_POST = createActionName('DELETE_POST')\nconst ADD_POST = createActionName('ADD_POST');\nconst EDIT_POST = createActionName('EDIT_POST');\nconst GET_DATA = createActionName('GET_DATA');\n\nexport const fetchData = () => {\n  return (dispatch) => {\n    dispatch(changeStatus);\n    fetch(`${API_URL}/posts`)\n      .then((response) => response.json())\n      .then((data) => dispatch(getData(data)))\n      .then(() => dispatch(changeStatus));\n  };\n};\n\nexport const postsReducer = (statePart = [], action) => {\n  switch (action.type) {\n    case EDIT_TABLE:\n      return statePart.map((post) => {\n        if (post.id === action.payload.id) {\n          return { ...post, ...action.payload };\n        } else {\n          return post;\n        }\n      });\n    case DELETE_POST:\n      return statePart.filter(post => post.id !== action.payload)\n    case ADD_POST:\n      return [...statePart, { ...action.payload, id: shortid() }];\n    case EDIT_POST:\n      return statePart.map(post => (post.id === action.payload.id) ? { ...post, ...action.payload } : post);\n    case GET_DATA:\n      return [...action.payload];\n    case CHANGE_STATUS: {\n      return action.payload;\n    }\n    default:\n      return statePart;\n  }\n};\n\nconst createActionNames = (action) => {\n  return `app/status/${action}`;\n};\n\nconst CHANGE_STATUS = createActionNames('CHANGE_STATUS');\nconst EDIT_TABLE = createActionNames('EDIT_TABLE');\n\nexport const editTableRequest = (editedTable) => {\n  return (dispatch) => {\n    const options = {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(editedTable),\n    };\n\n    fetch(`${API_URL}/posts/${editedTable.id}`, options)\n      .then((response) => response.json())\n      .then((data) => dispatch(editTable(data)));\n  };\n};\n\n\nexport const statusReducer = (statePart = [], action) => {\n  switch (action.type) {\n    case CHANGE_STATUS: {\n      return action.payload;\n    }\n    default:\n      return statePart;\n  }\n};\n\n\n// reducer\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}