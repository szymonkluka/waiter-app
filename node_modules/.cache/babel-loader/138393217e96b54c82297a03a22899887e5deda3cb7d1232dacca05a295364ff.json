{"ast":null,"code":"import { API_URL } from '../config';\nconst createActionNames = action => {\n  return `app/status/${action}`;\n};\nconst CHANGE_STATUS = createActionNames('CHANGE_STATUS');\nconst EDIT_TABLE = createActionNames('EDIT_TABLE');\nexport const editTable = payload => ({\n  type: EDIT_TABLE,\n  payload\n});\nexport const editTableRequest = editedTable => {\n  return dispatch => {\n    const options = {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(editedTable)\n    };\n    fetch(`${API_URL}/tables/${editedTable.id}`, options).then(response => response.json()).then(data => dispatch(editTable(data)));\n  };\n};\n\n//selectors\nexport const getAllPosts = _ref => {\n  let {\n    posts\n  } = _ref;\n  return posts;\n};\nexport const getPostById = (_ref2, id) => {\n  let {\n    posts\n  } = _ref2;\n  return posts.find(post => post.id === id);\n};\n\n// actions\nconst createActionName = action => {\n  return `app/posts/${action}`;\n};\nconst GET_DATA = createActionName('GET_DATA');\nconst EDIT_POST = createActionName('EDIT_POST');\n\n// action creators\nexport const editPost = payload => ({\n  type: EDIT_POST,\n  payload\n});\nexport const getData = payload => ({\n  type: GET_DATA,\n  payload\n});\nexport const changeStatus = payload => ({\n  type: CHANGE_STATUS,\n  payload\n});\nexport const fetchData = () => {\n  return dispatch => {\n    dispatch(changeStatus(true));\n    fetch(`${API_URL}/posts`).then(response => response.json()).then(data => dispatch(getData(data))).then(data => dispatch(editPost(data)));\n  };\n};\n\n// reducer\nexport const postsReducer = function () {\n  let statePart = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case GET_DATA:\n      return [...action.payload];\n    case CHANGE_STATUS:\n      {\n        return action.payload;\n      }\n    case EDIT_POST:\n      return statePart.map(post => post.id === action.payload.id ? {\n        ...post,\n        ...action.payload\n      } : post);\n    default:\n      return statePart;\n  }\n};","map":{"version":3,"names":["API_URL","createActionNames","action","CHANGE_STATUS","EDIT_TABLE","editTable","payload","type","editTableRequest","editedTable","dispatch","options","method","headers","body","JSON","stringify","fetch","id","then","response","json","data","getAllPosts","_ref","posts","getPostById","_ref2","find","post","createActionName","GET_DATA","EDIT_POST","editPost","getData","changeStatus","fetchData","postsReducer","statePart","arguments","length","undefined","map"],"sources":["C:/Users/lenov/Downloads/kodilla-waiter-app-master (1)/kodilla-waiter-app-master/src/redux/tablesReducer.js"],"sourcesContent":["\n\n\n\n\n\n\n\n\nimport { API_URL } from '../config';\n\nconst createActionNames = (action) => {\n  return `app/status/${action}`;\n};\n\nconst CHANGE_STATUS = createActionNames('CHANGE_STATUS');\n\nconst EDIT_TABLE = createActionNames('EDIT_TABLE');\n\nexport const editTable = (payload) => ({ type: EDIT_TABLE, payload })\n\nexport const editTableRequest = (editedTable) => {\n  return (dispatch) => {\n    const options = {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(editedTable),\n    };\n\n    fetch(`${API_URL}/tables/${editedTable.id}`, options)\n      .then((response) => response.json())\n      .then((data) => dispatch(editTable(data)));\n  };\n};\n\n//selectors\nexport const getAllPosts = ({ posts }) => posts;\n\nexport const getPostById = ({ posts }, id) =>\n  posts.find((post) => post.id === id);\n\n// actions\nconst createActionName = (action) => {\n  return `app/posts/${action}`;\n};\nconst GET_DATA = createActionName('GET_DATA');\nconst EDIT_POST = createActionName('EDIT_POST');\n\n// action creators\nexport const editPost = payload => ({ type: EDIT_POST, payload });\nexport const getData = (payload) => ({ type: GET_DATA, payload });\nexport const changeStatus = (payload) => ({ type: CHANGE_STATUS, payload });\n\nexport const fetchData = () => {\n  return (dispatch) => {\n    dispatch(changeStatus(true));\n    fetch(`${API_URL}/posts`)\n      .then((response) => response.json())\n      .then((data) => dispatch(getData(data)))\n      .then((data) => dispatch(editPost(data)))\n  };\n};\n\n// reducer\nexport const postsReducer = (statePart = [], action) => {\n  switch (action.type) {\n    case GET_DATA:\n      return [...action.payload];\n    case CHANGE_STATUS: {\n      return action.payload;\n    }\n    case EDIT_POST:\n      return statePart.map(post => (post.id === action.payload.id) ? { ...post, ...action.payload } : post);\n    default:\n      return statePart;\n  }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}