{"ast":null,"code":"import shortid from \"shortid\";\nimport { API_URL } from '../config';\nexport const getAllPosts = _ref => {\n  let {\n    posts\n  } = _ref;\n  return posts;\n};\nexport const getPostById = (_ref2, postsId) => {\n  let {\n    posts\n  } = _ref2;\n  return posts.find(post => post.id === postsId);\n};\nexport const getPostsByCategory = (_ref3, category) => {\n  let {\n    posts\n  } = _ref3;\n  return posts.filter(post => post.category === category);\n};\nexport const deletePost = payload => ({\n  type: DELETE_POST,\n  payload\n});\nexport const addPost = payload => ({\n  type: ADD_POST,\n  payload\n});\nexport const editPost = payload => ({\n  type: EDIT_POST,\n  payload\n});\nexport const getData = payload => ({\n  type: GET_DATA,\n  payload\n});\nconst createActionName = actionName => `app/posts/${actionName}`;\nconst DELETE_POST = createActionName('DELETE_POST');\nconst ADD_POST = createActionName('ADD_POST');\nconst EDIT_POST = createActionName('EDIT_POST');\nconst GET_DATA = createActionName('GET_DATA');\nexport const fetchData = () => {\n  return dispatch => {\n    dispatch(changeStatus(true));\n    fetch(`${API_URL}/posts`).then(response => response.json()).then(data => dispatch(getData(data))).then(data => dispatch(editPost(data)));\n  };\n};\nexport const postsReducer = function () {\n  let statePart = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case GET_DATA:\n      return [...action.payload];\n    case CHANGE_STATUS:\n      {\n        return action.payload;\n      }\n    case DELETE_POST:\n      return statePart.filter(post => post.id !== action.payload);\n    case ADD_POST:\n      return [...statePart, {\n        ...action.payload,\n        id: shortid()\n      }];\n    case EDIT_POST:\n      return statePart.map(post => post.id === action.payload.id ? {\n        ...post,\n        ...action.payload\n      } : post);\n    default:\n      return statePart;\n  }\n};\nconst createActionNames = action => {\n  return `app/status/${action}`;\n};\nconst CHANGE_STATUS = createActionNames('CHANGE_STATUS');\nconst EDIT_TABLE = createActionNames('EDIT_TABLE');\nexport const editTable = payload => ({\n  type: EDIT_TABLE,\n  payload\n});\n\n//selectors\n\n// actions\n\nexport const changeStatus = payload => ({\n  type: CHANGE_STATUS,\n  payload\n});","map":{"version":3,"names":["shortid","API_URL","getAllPosts","_ref","posts","getPostById","_ref2","postsId","find","post","id","getPostsByCategory","_ref3","category","filter","deletePost","payload","type","DELETE_POST","addPost","ADD_POST","editPost","EDIT_POST","getData","GET_DATA","createActionName","actionName","fetchData","dispatch","changeStatus","fetch","then","response","json","data","postsReducer","statePart","arguments","length","undefined","action","CHANGE_STATUS","map","createActionNames","EDIT_TABLE","editTable"],"sources":["C:/Users/lenov/Downloads/kodilla-waiter-app-master (1)/kodilla-waiter-app-master/src/redux/tablesReducer.js"],"sourcesContent":["import shortid from \"shortid\";\nimport { API_URL } from '../config';\n\nexport const getAllPosts = ({ posts }) => posts;\nexport const getPostById = ({ posts }, postsId) => posts.find(post => post.id === postsId);\nexport const getPostsByCategory = ({ posts }, category) => posts.filter(post => post.category === category);\n\nexport const deletePost = payload => ({ type: DELETE_POST, payload })\nexport const addPost = payload => ({ type: ADD_POST, payload });\nexport const editPost = payload => ({ type: EDIT_POST, payload });\nexport const getData = (payload) => ({ type: GET_DATA, payload });\n\nconst createActionName = actionName => `app/posts/${actionName}`;\nconst DELETE_POST = createActionName('DELETE_POST')\nconst ADD_POST = createActionName('ADD_POST');\nconst EDIT_POST = createActionName('EDIT_POST');\nconst GET_DATA = createActionName('GET_DATA');\n\nexport const fetchData = () => {\n  return (dispatch) => {\n    dispatch(changeStatus(true));\n    fetch(`${API_URL}/posts`)\n      .then((response) => response.json())\n      .then((data) => dispatch(getData(data)))\n      .then((data) => dispatch(editPost(data)))\n  };\n};\n\nexport const postsReducer = (statePart = [], action) => {\n  switch (action.type) {\n    case GET_DATA:\n      return [...action.payload];\n    case CHANGE_STATUS: {\n      return action.payload;\n    }\n    case DELETE_POST:\n      return statePart.filter(post => post.id !== action.payload)\n    case ADD_POST:\n      return [...statePart, { ...action.payload, id: shortid() }];\n    case EDIT_POST:\n      return statePart.map(post => (post.id === action.payload.id) ? { ...post, ...action.payload } : post);\n    default:\n      return statePart;\n  }\n};\n\nconst createActionNames = (action) => {\n  return `app/status/${action}`;\n};\n\nconst CHANGE_STATUS = createActionNames('CHANGE_STATUS');\n\nconst EDIT_TABLE = createActionNames('EDIT_TABLE');\n\nexport const editTable = (payload) => ({ type: EDIT_TABLE, payload })\n\n\n\n//selectors\n\n\n// actions\n\nexport const changeStatus = (payload) => ({ type: CHANGE_STATUS, payload });\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}