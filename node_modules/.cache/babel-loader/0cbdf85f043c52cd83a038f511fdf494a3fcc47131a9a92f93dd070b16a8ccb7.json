{"ast":null,"code":"import { API_URL } from '../config';\nimport { changeStatus } from './requestStatusReducer';\n\n//selectors\nexport const getAllTables = _ref => {\n  let {\n    tables\n  } = _ref;\n  return tables;\n};\nexport const getTableById = (_ref2, id) => {\n  let {\n    tables\n  } = _ref2;\n  return tables.find(table => table.id === id);\n};\n\n// actions\nconst createActionName = action => {\n  return `app/tables/${action}`;\n};\nconst GET_DATA = createActionName('GET_DATA');\nconst EDIT_TABLE = createActionName('EDIT_TABLE');\n\n// action creators\nexport const getData = payload => ({\n  type: GET_DATA,\n  payload\n});\nexport const editTable = payload => ({\n  type: EDIT_TABLE,\n  payload\n});\nexport const fetchData = () => {\n  return dispatch => {\n    dispatch(changeStatus(true));\n    fetch(`${API_URL}/tables`).then(response => response.json()).then(data => dispatch(getData(data)));\n  };\n};\nexport const editTableRequest = editedTable => {\n  return dispatch => {\n    const options = {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(editedTable)\n    };\n    fetch(`${API_URL}/tables/${editedTable.id}`, options).then(response => response.json()).then(data => dispatch(editTable(data)));\n  };\n};\n\n// reducer\nexport const tablesReducer = function () {\n  let statePart = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case EDIT_TABLE:\n      return statePart.map(table => {\n        if (table.id === action.payload.id) {\n          return {\n            ...table,\n            ...action.payload\n          };\n        } else {\n          return table;\n        }\n      });\n    case GET_DATA:\n      return [...action.payload];\n    default:\n      return statePart;\n  }\n};","map":{"version":3,"names":["API_URL","changeStatus","getAllTables","_ref","tables","getTableById","_ref2","id","find","table","createActionName","action","GET_DATA","EDIT_TABLE","getData","payload","type","editTable","fetchData","dispatch","fetch","then","response","json","data","editTableRequest","editedTable","options","method","headers","body","JSON","stringify","tablesReducer","statePart","arguments","length","undefined","map"],"sources":["C:/Users/lenov/Downloads/kodilla-waiter-app-master (1)/kodilla-waiter-app-master/src/redux/tablesReducer.js"],"sourcesContent":["import { API_URL } from '../config';\nimport { changeStatus } from './requestStatusReducer';\n\n//selectors\nexport const getAllTables = ({ tables }) => tables;\n\nexport const getTableById = ({ tables }, id) =>\n  tables.find((table) => table.id === id);\n\n// actions\nconst createActionName = (action) => {\n  return `app/tables/${action}`;\n};\n\nconst GET_DATA = createActionName('GET_DATA');\n\nconst EDIT_TABLE = createActionName('EDIT_TABLE');\n\n// action creators\nexport const getData = (payload) => ({ type: GET_DATA, payload });\n\nexport const editTable = (payload) => ({ type: EDIT_TABLE, payload });\n\nexport const fetchData = () => {\n  return (dispatch) => {\n    dispatch(changeStatus(true));\n    fetch(`${API_URL}/tables`)\n      .then((response) => response.json())\n      .then((data) => dispatch(getData(data)))\n\n  };\n};\n\nexport const editTableRequest = (editedTable) => {\n  return (dispatch) => {\n    const options = {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(editedTable),\n    };\n\n    fetch(`${API_URL}/tables/${editedTable.id}`, options)\n      .then((response) => response.json())\n      .then((data) => dispatch(editTable(data)));\n  };\n};\n\n// reducer\nexport const tablesReducer = (statePart = [], action) => {\n  switch (action.type) {\n    case EDIT_TABLE:\n      return statePart.map((table) => {\n        if (table.id === action.payload.id) {\n          return { ...table, ...action.payload };\n        } else {\n          return table;\n        }\n      });\n    case GET_DATA:\n      return [...action.payload];\n    default:\n      return statePart;\n  }\n};\n"],"mappings":"AAAA,SAASA,OAAO,QAAQ,WAAW;AACnC,SAASC,YAAY,QAAQ,wBAAwB;;AAErD;AACA,OAAO,MAAMC,YAAY,GAAGC,IAAA;EAAA,IAAC;IAAEC;EAAO,CAAC,GAAAD,IAAA;EAAA,OAAKC,MAAM;AAAA;AAElD,OAAO,MAAMC,YAAY,GAAGA,CAAAC,KAAA,EAAaC,EAAE;EAAA,IAAd;IAAEH;EAAO,CAAC,GAAAE,KAAA;EAAA,OACrCF,MAAM,CAACI,IAAI,CAAEC,KAAK,IAAKA,KAAK,CAACF,EAAE,KAAKA,EAAE,CAAC;AAAA;;AAEzC;AACA,MAAMG,gBAAgB,GAAIC,MAAM,IAAK;EACnC,OAAQ,cAAaA,MAAO,EAAC;AAC/B,CAAC;AAED,MAAMC,QAAQ,GAAGF,gBAAgB,CAAC,UAAU,CAAC;AAE7C,MAAMG,UAAU,GAAGH,gBAAgB,CAAC,YAAY,CAAC;;AAEjD;AACA,OAAO,MAAMI,OAAO,GAAIC,OAAO,KAAM;EAAEC,IAAI,EAAEJ,QAAQ;EAAEG;AAAQ,CAAC,CAAC;AAEjE,OAAO,MAAME,SAAS,GAAIF,OAAO,KAAM;EAAEC,IAAI,EAAEH,UAAU;EAAEE;AAAQ,CAAC,CAAC;AAErE,OAAO,MAAMG,SAAS,GAAGA,CAAA,KAAM;EAC7B,OAAQC,QAAQ,IAAK;IACnBA,QAAQ,CAAClB,YAAY,CAAC,IAAI,CAAC,CAAC;IAC5BmB,KAAK,CAAE,GAAEpB,OAAQ,SAAQ,CAAC,CACvBqB,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,EAAE,CAAC,CACnCF,IAAI,CAAEG,IAAI,IAAKL,QAAQ,CAACL,OAAO,CAACU,IAAI,CAAC,CAAC,CAAC;EAE5C,CAAC;AACH,CAAC;AAED,OAAO,MAAMC,gBAAgB,GAAIC,WAAW,IAAK;EAC/C,OAAQP,QAAQ,IAAK;IACnB,MAAMQ,OAAO,GAAG;MACdC,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACN,WAAW;IAClC,CAAC;IAEDN,KAAK,CAAE,GAAEpB,OAAQ,WAAU0B,WAAW,CAACnB,EAAG,EAAC,EAAEoB,OAAO,CAAC,CAClDN,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,EAAE,CAAC,CACnCF,IAAI,CAAEG,IAAI,IAAKL,QAAQ,CAACF,SAAS,CAACO,IAAI,CAAC,CAAC,CAAC;EAC9C,CAAC;AACH,CAAC;;AAED;AACA,OAAO,MAAMS,aAAa,GAAG,SAAAA,CAAA,EAA4B;EAAA,IAA3BC,SAAS,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;EAAA,IAAExB,MAAM,GAAAwB,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EAClD,QAAQ1B,MAAM,CAACK,IAAI;IACjB,KAAKH,UAAU;MACb,OAAOqB,SAAS,CAACI,GAAG,CAAE7B,KAAK,IAAK;QAC9B,IAAIA,KAAK,CAACF,EAAE,KAAKI,MAAM,CAACI,OAAO,CAACR,EAAE,EAAE;UAClC,OAAO;YAAE,GAAGE,KAAK;YAAE,GAAGE,MAAM,CAACI;UAAQ,CAAC;QACxC,CAAC,MAAM;UACL,OAAON,KAAK;QACd;MACF,CAAC,CAAC;IACJ,KAAKG,QAAQ;MACX,OAAO,CAAC,GAAGD,MAAM,CAACI,OAAO,CAAC;IAC5B;MACE,OAAOmB,SAAS;EAAC;AAEvB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}